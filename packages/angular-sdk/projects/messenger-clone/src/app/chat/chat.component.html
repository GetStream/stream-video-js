<div id="chat-root">
  <stream-channel-list>
    <app-user-autocomplete
      channel-list-top
      (userSelect)="userSelected($event)"
    ></app-user-autocomplete>
  </stream-channel-list>
  <stream-channel>
    <stream-channel-header></stream-channel-header>
    <stream-message-list></stream-message-list>
    <stream-notification-list></stream-notification-list>
    <stream-message-input></stream-message-input>
    <stream-thread name="thread">
      <stream-message-list mode="thread"></stream-message-list>
      <stream-message-input mode="thread"></stream-message-input>
    </stream-thread>
  </stream-channel>
</div>

<ng-template #channelActions let-channel="channel">
  <button
    class="start-call"
    (click)="startCallInChannel(channel)"
    [disabled]="inCall"
    mat-icon-button
    aria-label="Start a call"
  >
    <mat-icon *ngIf="!isCallCreationInProgress" fontIcon="call"></mat-icon>
    <mat-progress-spinner
      *ngIf="isCallCreationInProgress"
      color="primary"
      diameter="15"
      mode="indeterminate"
    ></mat-progress-spinner>
  </button>
</ng-template>
