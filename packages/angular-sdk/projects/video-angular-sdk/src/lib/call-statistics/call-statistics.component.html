<div class="str-video__call-stats">
  <h2 class="str-video__call-stats__title">Statistics</h2>
  <h3>Call Latency</h3>
  <canvas
    baseChart="chart"
    [type]="'line'"
    [data]="lineChartData"
    [options]="lineChartOptions"
    [legend]="lineChartLegend"
  >
  </canvas>
  <h3>Call performance</h3>
  <div class="str-video__call-stats__card-container">
    <ng-container
      *ngTemplateOutlet="
        statCard;
        context: { label: 'Region', value: datacenter }
      "
    ></ng-container>
    <ng-container
      *ngTemplateOutlet="
        statCard;
        context: { label: 'Latency', value: latencyInMs }
      "
    ></ng-container>
    <ng-container
      *ngTemplateOutlet="
        statCard;
        context: { label: 'Receive jitter', value: receiveJitter }
      "
    ></ng-container>
    <ng-container
      *ngTemplateOutlet="
        statCard;
        context: { label: 'Publish jitter', value: sendJitter }
      "
    ></ng-container>
    <ng-container
      *ngTemplateOutlet="
        statCard;
        context: {
          label: 'Publish quality drop reason',
          value: publishQualityLimit
        }
      "
    ></ng-container>
    <ng-container
      *ngTemplateOutlet="
        statCard;
        context: { label: 'Publish resolution', value: publishResolution }
      "
    ></ng-container>
    <ng-container
      *ngTemplateOutlet="
        statCard;
        context: { label: 'Receiving resolution', value: subscriberResolution }
      "
    ></ng-container>
    <ng-container
      *ngTemplateOutlet="
        statCard;
        context: { label: 'Publish bitrate', value: publishBitrate }
      "
    ></ng-container>
    <ng-container
      *ngTemplateOutlet="
        statCard;
        context: { label: 'Receiving bitrate', value: subscribeBitrate }
      "
    ></ng-container>
  </div>
</div>

<ng-template #statCard let-label="label" let-value="value">
  <div class="str-video__call-stats__card">
    <div class="str-video__call-stats__card_label">{{ label }}</div>
    <div class="str-video__call-stats__card_value">{{ value }}</div>
  </div>
</ng-template>
