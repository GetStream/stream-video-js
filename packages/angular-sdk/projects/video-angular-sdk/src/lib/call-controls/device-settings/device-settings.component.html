<button
  class="str-video__device-settings__button"
  [popper]="deviceSettings"
  [popperTrigger]="popperTrigger"
  tabindex="0"
>
  <span class="str-video__device-settings__icon"></span>
</button>
<popper-content #deviceSettings>
  <div class="str-video__device-settings">
    <div class="str-video__device-settings__device-kind">
      <div class="str-video__device-settings__device-selector-label">
        Select camera
      </div>
      <select
        class="str-video__device-settings__device-selector"
        [value]="currentlyUsedVideoDeviceId"
        (change)="selectVideoDevice($event)"
      >
        <option
          *ngFor="let device of videoDevices$ | async"
          [value]="device.deviceId"
        >
          {{ device.label }}
        </option>
      </select>
    </div>
    <div class="str-video__device-settings__device-kind">
      <div class="str-video__device-settings__device-selector-label">
        Select mic
      </div>
      <select
        class="str-video__device-settings__device-selector"
        [value]="currentlyUsedAudioDeviceId"
        (change)="selectAudioDevice($event)"
      >
        <option
          *ngFor="let device of audioDevices$ | async"
          [value]="device.deviceId"
        >
          {{ device.label }}
        </option>
      </select>
    </div>
    <div
      *ngIf="isAudioOuputDeviceChangeSupported"
      class="str-video__device-settings__device-kind"
    >
      <div class="str-video__device-settings__device-selector-label">
        Select audio output
      </div>
      <select
        class="str-video__device-settings__device-selector"
        [value]="currentlyUsedAudioOutputDeviceId"
        (change)="selectAudioOutputDevice($event)"
      >
        <option
          *ngFor="let device of audioOutputDevices$ | async"
          [value]="device.deviceId"
        >
          {{ device.label }}
        </option>
      </select>
    </div>
  </div>
</popper-content>
