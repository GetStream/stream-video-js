---
title: Call & Participant State
description: How the state is exposed
---

The call, participant and client states are reactive. Their value is updated on WebSocket events and API calls. We use the [RxJS library](https://rxjs.dev/) for this, and the state variables are Observables.

This is how you can subscribe to changes related to participants:

```typescript
call.state.participants$.subscribe(console.log);
```

The `console.log` method will be called each time there is a change to the list of participants in the call.

This approach makes it possible to access the state and be notified about changes anywhere in your application without having to manually subscribe to WebSocket events.

Alternatively you can also access the current value of each state variable:

```typescript
console.log(call.state.participants);
```

It's useful when you need to know the current value, but you don't need to be notified about future changes.

## Call state

The call state can be accessed by `call.state`.

Here are all the call state properties:

| Reactive value           | Static value            | Description                                                                                                  |
| ------------------------ | ----------------------- | ------------------------------------------------------------------------------------------------------------ |
| `members$`               | `members`               | The list of call members                                                                                     |
| `callingState$`          | `callingState`          | Provides information about the call state. For example, `RINGING`, `JOINED` or `RECONNECTING`.               |
| `startedAt$`             | `startedAt`             | The actual start time of the current call session.                                                           |
| `callStatsReport$`       | `callStatsReport`       | When stats gathering is enabled, this observable will emit a new value at a regular (configurable) interval. |
| `metadata$`              | `metadata`              | The `CallResponse`, see below for more information.                                                          |
| `callRecordingList$`     | `callRecordingList`     | The latest list of recordings performed during the call.                                                     |
| `hasOngoingScreenShare$` | `hasOngoingScreenShare` | It will return `true` if at least one participant is sharing their screen.                                   |
| `dominantSpeaker$`       | `dominantSpeaker`       | The participant that is the current dominant speaker of the call.                                            |
| `ownCapabilities$`       | `ownCapabilities`       | The capabilities of the local participant.                                                                   |

The `CallResponse` object contains the following information:

| Name               | Description                                             |
| ------------------ | ------------------------------------------------------- |
| `backstage`        | It's `true` if the call is in backstage mode.           |
| `blocked_user_ids` | The users who are blocked from this call.               |
| `created_at`       | The time the call was created.                          |
| `created_by`       | The creator of the call.                                |
| `custom`           | Custom data attached to the call.                       |
| `egress`           | Broadcasting related information.                       |
| `ended_at`         | When the call was ended.                                |
| `ingress`          | RTMP publishing related information.                    |
| `recording`        | It's `true` if the call is being recorded.              |
| `session`          | Information related to the current session of the call. |
| `settings`         | The settings for this call.                             |
| `starts_at`        | The scheduled start time of the call.                   |
| `team`             | Team that the call is restricted to.                    |
| `type`             | The type of the call.                                   |
| `updated_at`       | When the call was updated.                              |

## Participant state

If you want to display information about the joined participants of the call you can use the following properties in `call.state`:

| Reactive value               | Static value                | Description                                                                                                                                                            |
| ---------------------------- | --------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `localParticipant$`          | `localParticipant`          | The local participant is the logged-in user.                                                                                                                           |
| `remoteParticipants$`        | `remoteParticipants`        | All participants except the local participant.                                                                                                                         |
| `participants$`              | `participants`              | All participants, including local and remote participants.                                                                                                             |
| `participantCount$`          | `participantCount`          | The approximate participant count of the active call. This includes the [anonymous users](../client-auth/#anonymous-users) as well, it is computed on the server-side. |
| `anonymousParticipantCount$` | `anonymousParticipantCount` | The approximate participant count of anonymous users in the active call.                                                                                               |

The `StreamVideoParticipant` object contains the following information:

| Name                 | Description                                                                 |
| -------------------- | --------------------------------------------------------------------------- |
| `user`               | The user object for this participant.                                       |
| `publishedTracks`    | The track types the participant is currently publishing                     |
| `joinedAt`           | The time the participant joined the call.                                   |
| `connectionQuality`  | The participant's connection quality.                                       |
| `isSpeaking`         | It's `true` if the participant is currently speaking.                       |
| `isDominantSpeaker`  | It's `true` if the participant is the current dominant speaker in the call. |
| `audioLevel`         | The audio level of the participant.                                         |
| `audioStream`        | The published audio `MediaStream`.                                          |
| `videoStream`        | The published video `MediaStream`.                                          |
| `screenShareStream`  | The published screen share `MediaStream`.                                   |
| `isLocalParticipant` | It's `true` if the participant is the local participant.                    |
| `pinnedAt`           | The time the participant was pinned.                                        |
| `reaction`           | The last reaction this user has sent to this call.                          |

The `StreamVideoLocalParticipant` has these additional properties:

| Name                  | Description                                                  |
| --------------------- | ------------------------------------------------------------ |
| `audioDeviceId`       | The device ID of the currently selected audio input device.  |
| `videoDeviceId`       | The device ID of the currently selected video input device.  |
| `audioOutputDeviceId` | The device ID of the currently selected audio output device. |

## Client state

The client state can be accessed by `client.state`.

Here are the list of client state properties:

| Reactie value    | Static value    | Description                                                                                                                                 |
| ---------------- | --------------- | ------------------------------------------------------------------------------------------------------------------------------------------- |
| `connectedUser$` | `connectedUser` | Returns the connected user.                                                                                                                 |
| `calls$`         | `calls`         | A list of all notifications about created calls. These calls can be outgoing (I have called somebody) or incoming (somebody has called me). |

The `UserResponse` contains the following properties:

| Name         | Description                                           |
| ------------ | ----------------------------------------------------- |
| `created_at` | The time the user was created.                        |
| `custom`     | Custom user data.                                     |
| `deleted_at` | The time the user was deleted.                        |
| `devices`    | The registered push notification devices of the user. |
| `id`         | The id of the user.                                   |
| `image`      | The profile image of the user.                        |
| `name`       | The name of the user.                                 |
| `role`       | The role of the user.                                 |
| `teams`      | The teams the user belongs to.                        |
| `updated_at` | The time when the user was updated.                   |
