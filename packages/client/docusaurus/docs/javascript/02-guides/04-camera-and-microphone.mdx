---
id: camera-and-microphone
title: Camera & Microphone
description: Managing audio and video
---

## Camera management

### Start-stop camera

```typescript
const toggleCamera = () => {
  call.camera.toggle();

  // or
  call.camera.enable();
  call.camera.disable();
};
```

Here is how you can access the status:

```typescript
call.camera.state.status; // enabled, disabled or undefined
call.camera.state.status$.subscribe(console.log); // Reactive value for status, you can subscribe to changes
```

The initial status of the camera is `undefined`. If you don't change the initial status, the default backend settings will be applied once the participant joins the call.

If you're building a lobby screen, this is how you can apply the backend settings:

```typescript
await call.get();
const defaultCameraStatus =
  call.state.metadata.settings.video.camera_default_on;
defaultCameraStatus ? call.camera.enable() : call.camera.disable();
```

### List and select devices

```typescript
// List devices
// The error handler is called if the user denies permission to use camera
call.camera
  .listDevices()
  .subscribe({ next: console.log, error: console.error });

// Select device
call.camera.select('device Id');
```

Here is how you can access the selected device:

```typescript
call.camera.state.selectedDevice; // currently selected camera
call.camera.state.selectedDevice$.subscribe(console.log); // Reactive value for selected device, you can subscribe to changes
```

### Flip camera

On mobile devices it's useful if users can switch between the front and back cameras:

```typescript
await call.camera.flip();
```

This is how you can access the camera direction:

```typescript
call.camera.state.direction; // front or back
call.camera.state.direction$.subscribe(console.log); // Reactive value for direction, you can subscribe to changes
```

### Render video

#### In call

This is how you can render video of a participant:

```typescript
const videoEl = document.createElement('video');
videoEl.autoplay = true;

if (videoEl.srcObject !== participant.videoStream) {
  videoEl.srcObject = participant.videoStream || null;
}
```

#### Lobby preview

This is how you can show a preview video before joining the call:

```typescript
const call = client.call('default', '123');

await call.camera.enable();
const videoEl = document.createElement('video');
videoEl.autoplay = true;

if (videoEl.srcObject !== call.camera.state.mediaStream) {
  videoEl.srcObject = call.camera.state.mediaStream || null;
}
```

## Microphone management

### Start-stop microphone

```typescript
const toggleMicrophone = () => {
  call.microphone.toggle();

  // or
  call.microphone.enable();
  call.microphone.disable();
};
```

This is how you can access the microphone status:

```typescript
call.microphone.state.status; // enabled, disabled or undefined
call.microphone.state.status$.subscribe(console.log); // Reactive value for status, you can subscribe to changes
```

The initial status of the microphone is `undefined`. If you don't change the initial status, the default backend settings will be applied once the participant joins the call.

If you're building a lobby screen, this is how you can apply the backend settings:

```typescript
await call.get();
const defaultMicStatus = call.state.metadata.settings.audio.mic_default_on;
defaultMicStatus ? call.microphone.enable() : call.microphone.disable();
```

### List and select devices

```typescript
// List devices
// The error handler is called if the user denies permission to use microphone
call.microphone
  .listDevices()
  .subscribe({ next: console.log, error: console.error });

// Select device
call.microphone.select('device Id');
```

This is how you can access the selected device:

```typescript
call.microphone.state.selectedDevice; // currently selected microphone
call.microphone.state.selectedDevice$.subscribe(console.log); // Reactive value for selected device, you can subscribe to changes
```

### Play audio

#### In call

This is how you can play audio of a participant:

```typescript
const audioEl = document.createElement('audio');
audioEl.autoplay = true;

if (audioEl.srcObject !== participant.audioStream) {
  audioEl.srcObject = participant.audioStream || null;
}
```

#### Lobby preview

This is how you can show a visual representation about the sound level coming from the user's selected microphone:

```typescript
// Code example coming soon üèóÔ∏è
```

### Speaking while muted notification

```typescript
// This feature is coming soon üèóÔ∏è
```

For more information you can refer to [the sample app](https://github.com/GetStream/stream-video-js/tree/main/sample-apps/client/ts-quickstart) that shows how you can select audio and video devices.

## Speaker management

### Browser support

Selecting audio output device for the call [isn't supported by all browsers](https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/sinkId), this is how you can check the availability:

```typescript
// This feature is coming soon üèóÔ∏è
```

### List and select devices

```typescript
// This feature is coming soon üèóÔ∏è
```
